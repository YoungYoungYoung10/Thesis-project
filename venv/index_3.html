<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- <title>HTML5-Video播放视频，canvas绘制视频</title> -->
  <style>
    body {
      background: black;
      color: #CCCCCC;
      width: 100%;
      height: 100%;
    }

    div { 
      float: left;
      border: 1px solid #444444;
      padding: 10px;
      margin: 10px;
      background: #3B3B3B;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <!-- <p>左侧为为canvas绘制的视频，右侧HTML5-video标签播放的视频</p> -->

  <canvas id="myCanvas">
  </canvas>
  <video id="myvideo" controls width="100" autoplay="autoplay" loop>
    <source src="../screenRecordings/4.mp4" type='video/mp4'>
  </video>


  <script>
    // 播放器变量
    var v = document.getElementById("myvideo");
    var c = document.getElementById("myCanvas");




    // 播放器代码开始
    ctx = c.getContext('2d');
    // 每 20 毫秒，代码就会绘制视频的当前帧
    v.addEventListener('play', function () {//播放
      var i = window.setInterval(function () {
        ctx.drawImage(v, 0, 0, 300, 150);
        //画一个对话框
        ctx.beginPath(); ctx.beginPath();
        ctx.moveTo(75, 25);
        ctx.quadraticCurveTo(25, 25, 25, 62.5);
        ctx.quadraticCurveTo(25, 100, 50, 100);
        ctx.quadraticCurveTo(50, 120, 30, 125);
        ctx.quadraticCurveTo(60, 120, 65, 100);
        ctx.quadraticCurveTo(125, 100, 125, 62.5);
        ctx.quadraticCurveTo(125, 25, 75, 25);
        ctx.stroke();
      }, 20);
    }, false);
    // v.addEventListener('pause', function () {//暂停
    //   window.clearInterval(i);
    // }, false);
    // v.addEventListener('ended', function () {//结束
    //     clearInterval(i);
    // }, false);
    // 播放器代码结束

  </script>
</body>

</html>